#include <stdio.h>

int main() {
    int i, j, k = 0;
    char cc[21]; // Y 表示产生缺页中断，N 表示未产生缺页中断
    int a[20] = {1, 2, 3, 4, 1, 2, 5, 1, 2, 3, 4, 5,6,1,3,4,5,1,4,5}; // 页面调度顺序
    int b[4][21], c[21], p = 0; //c[]:淘汰页面号，p：淘汰次数
    
    b[0][0] = 0; // C 语言定义数组，其初值是不确定的
    b[1][0] = 0;
    b[2][0] = 0;
    b[3][0] = 0;

    printf("      ");
    for (i = 0; i < 20; i++)
        printf("%6d", a[i]);
    
    printf("\n =============================================================================\n");
    
    for (i = 0; i < 20; i++) {
        if (a[i] == b[0][i] || a[i] == b[1][i] || a[i] == b[2][i]|| a[i] == b[3][i]) {
            b[0][i + 1] = b[0][i];
            b[1][i + 1] = b[1][i];
            b[2][i + 1] = b[2][i];
            b[3][i + 1] = b[3][i];
            cc[i] = 'N';
        } else {
            if (i > 3) {
                c[p] = b[3][i];
                p++;//淘汰次数
            }
            b[0][i + 1] = a[i];
            b[1][i + 1] = b[0][i];
            b[2][i + 1] = b[1][i];
            b[3][i + 1] = b[2][i];
            cc[i] = 'Y';
            k = k + 1;//中断次数
        }
    }
    
    for (j = 0; j < 21; j++)
        printf("%6d", b[0][j]);
    
    printf("\n ------------------------------------------------------------------------------\n");
    
    for (j = 0; j < 21; j++)
        printf("%6d", b[1][j]);
    
    printf("\n ------------------------------------------------------------------------------\n");
    
    for (j = 0; j < 21; j++)
        printf("%6d", b[2][j]);
    
    printf("\n ------------------------------------------------------------------------------\n");

    for (j = 0; j < 21; j++)
        printf("%6d", b[3][j]);
    
    printf("\n ------------------------------------------------------------------------------\n");
    
    printf("      ");
    
    for (j = 0; j < 21; j++) {
        printf("     ");
        putchar(cc[j]);
    }
    
    printf("\n缺页中断次数：%3d\n", k);
    printf("页面淘汰顺序：");
    
    for (j = 0; j < p; j++)
        printf("%3d", c[j]);
    
    printf("\n\n");
    return 0;
}
